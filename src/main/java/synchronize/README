synchronized的底层实现
JDK早期 重量级 - OS
锁升级的概念：

synchronized(object)
markword 记录这个线程id - 偏向锁
如果线程争用 - 升级： 自旋锁
10次之后 - 升级： 重量级锁 OS (线程进入等待队列，不再占用cpu）

自旋锁 ： 占cpu 但不访问操作系统，仅用户态，不经过内核态。适合执行时间短，线程数目少的情况。
重量级锁：不占cpu，适合执行时间长，线程数目比较多的情况。

2021／04／17